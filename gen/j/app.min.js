!function(){"use strict";function a(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,b=arguments[1],c=S.configureStore(Q,a,[T.autoRehydrate()]);if(window.isCrawler)b(c);else{var d=["app"];S.hydrateStore({persistConfig:i,appVersion:j,whiteListedKeys:d,storageConfig:h},b)}}function b(){var a=" ",b="flex",c="-webkit-"+b,d=document.createElement("dummy");try{d.style.display=c,d.style.display=b,a+=d.style.display==b||d.style.display==c?"":"no-"+b}catch(d){a+="no-"+b}document.documentElement.className+=a}var c,d,e,f=window.interfaces,g=f.localforage,h={name:"flowName",version:1,storeName:"flowNameStore",description:"flow description"},i={storage:g,blacklist:[],keyPrefix:"reduxPersist_"},j="1",k="SET_APP_VERSION",l="RESET_APP_PURGE",m="FETCH_REQUEST",n="FETCH_FAILURE",o="FETCH_SUCCESS",p="FETCH_COMPLETE",q="REQUEST_ABORT_ALL",r="REQUEST_ADD",s="REQUEST_REMOVE",t="ROUTE_CHANGE",u="ROUTE_CHANGE_END",v="ROUTE_BEFORE_UNLOAD",w="ROUTE_UPDATE_TITLE",x="SHOW_TOAST",y={drawer:"drawerOpen"},z=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},A=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),B=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a},C=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},D=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},E=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b},F=window.interfaces,G=F.actionTypes,H=G.reduxPersist.REHYDRATE,I={},J=function(a,b){var c=void 0;return c=a==y.drawer?b:a||b,I[c]},K=null,L=function(){return K},M={current:"",previous:"",previousName:"",routePath:"",routeName:"",actionName:"",query:{},back:!1,title:"",subTitle:"",onBeforeUnload:null,getReloadStatus:L},N=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,b=arguments[1],c=(a.items,""),d="",e=!1;switch(b.type){case H:return null==K?(K=!0,i={}):1==K&&(K=!1),C({},a,b.payload.route,{routeName:a==M?"":b.payload.route.routeName,actionName:a==M?"":b.payload.route.actionName,back:!1,query:C({},b.payload.query,{navicon:"true"}),getReloadStatus:L});case t:var f=b.route.actionName,g=b.route.previousActionName,h=b.route.routeName;e=a.current==b.route.path||f==y.drawer,c=J(f,h),f==y.refine&&a.title&&(d=a.title.substring(0,10)+"...");var i=a.modulePrefetchStatus||{};return e?C({},a,{routeName:h,actionName:f,previousActionName:g,back:"backward"==b.route.direction,query:C({},a.query,b.route.query,{exceptiontype:b.route.query.exceptiontype||null}),modulePrefetchStatus:i}):C({},a,{title:c,subTitle:d,previous:a.current,previousName:a.routeName,current:b.route.path,routePath:b.route.path,routeName:h,actionName:f,previousActionName:g,back:"backward"==b.route.direction,onBeforeUnload:null,query:C({},a.query,b.route.query,{exceptiontype:b.route.query.exceptiontype||null}),modulePrefetchStatus:i});case w:return C({},a,{title:b.payload.title});case v:return C({},a,{onBeforeUnload:b.payload.onBeforeUnload});default:return a}},O=(new Date).getTime(),P=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{purge:!1,version:j,TTL:O,online:!0},b=arguments[1],c=864e5;switch(b.type){case k:return C({},a,{version:b.payload.version});case l:return C({},a,{purge:!1});case H:return b.payload.app&&O-b.payload.app.TTL>=c?C({},a,b.payload.app,{purge:!0,TTL:O}):C({},a,b.payload.app);default:return a}},Q={route:N,app:P},R=window.interfaces,S=R.storeUtil,T=R.reduxPersist,U=function(a){var b=a.query;return{type:t,route:C({},a,{query:b})}},V=function(a,b,c){return{type:u,route:{path:a,routeName:b,actionName:c}}},W=function(a){return{type:m,payload:a}},X=function(a){return{type:p,payload:a}},Y=function(a){return{type:o,payload:a}},Z=function(a){return{type:n,payload:a}},_=Object.freeze({routeChange:U,routeChangeEnd:V,fetchRequest:W,fetchComplete:X,fetchSuccess:Y,fetchFailure:Z}),aa={startPage:"/"},ba=aa,ca=window,da=ca.requirejs,ea=window.interfaces.routeUtil.loadModulePromise,fa=["flowName"+d,"text"+d+"!c/flowName"+d+".css"],ga=["tracking"+d],ha={flow:function(){return ea("flowName"+d)},styles:function(){return ea("text"+d+"!c/flowName"+d+".css")}};da.config({baseUrl:e+"/j",paths:{c:"../c"},config:B({},"text"+d,{useXhr:function(a,b,c,d){return!0}}),waitSeconds:30});var ia=Object.freeze({flowName:fa,TRACKING:ga,lazyFlowName:ha}),ja="undefined"==typeof Promise?require("es6-promise").Promise:Promise,ka=window.interfaces.page,la=window.interfaces.storeUtil.injectAsyncReducer,ma=function(a){a.requireModules.map(function(a){requirejs.undef(a)})},na=function(a){$("head").append("<style>"+a+"</style>")},oa=function(a,b){return define(a,b),new ja(function(b,c){requirejs([a],b,c)})},pa=function(a,b,c){var d=a.actions,e=a.store,f=a.moduleId;oa(f,b.component).then(function(a){a.reducer&&la(e,a.reducer,function(){d.fetchSuccess(),c()})}),b.styles&&na(b.styles)},qa=function(a){var b=a.actions,c=a.store,d=a.moduleId,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};requirejs.defined(d)?e():(b.fetchRequest({type:"block"}),requirejs(ia[d],function(a,f){pa({actions:b,store:c,moduleId:d},{component:a,styles:f},e)},function(a){b.fetchFailure(),f(),ma(a)}))},ra=function(a){},sa=function(a){window.history.back()},ta=function(a,b){var c={},d=a.querystring;if(d)for(var e=d.split("&"),f=0,g=e.length;f<g;f++)if(e[f]){var h=e[f].split("="),i=h[0],j=h[1],k=i.match(/(.*)\[\]$/);if(k){var l=k[1];c[l]||(c[l]=[],c[l].push(j))}else c[i]=j}a.params=C({},a.params,c),b()},ua=function(a,b){var c=-1,d=function(d,e){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},g=b.getState(),h=void 0,i="";void 0!=d.state.slideCount?(h=c<d.state.slideCount?"forward":"backward",c=d.state.slideCount):(h="forward",setTimeout(function(){d.state.slideCount=++c,d.save()},0));var j=C({},f,d.params);j.action&&(i=j.action);var k=b.getState().route,l=y.drawer;k.actionName==l||i==l||window.requestAnimationFrame(function(){$(window).scrollTop(0)}),a.routeChange({path:d.path,routeName:e,actionName:i,direction:h,query:j,previousName:g.route.routeName,previousActionName:g.route.actionName,getReloadStatus:g.route.getReloadStatus})};ka("*",ta),ka(ba.startPage,function(c,d){qa({store:b,actions:a,moduleId:"flowName"},function(){ra(),d()},function(){sa()})},function(a,b){d(a,"startPage")}),ka("*",function(a,b){d(a,"exception")},function(a,b){b()}),ka.exit("*",function(c,d){b.getState().sidebar&&a.toggleSidebar(),d(c)})},va=function(a){var b=a.request,c=a.method;return{type:r,payload:{request:b,method:c}}},wa=function(a){var b=a.request,c=a.method;return{type:s,payload:{request:b,method:c}}},xa=function(a){return{type:q}},ya=Object.freeze({addRequest:va,removeRequest:wa,abortAllRequest:xa}),za=(function(){function a(b,c){z(this,a),this.rootActions=b,this.interval=null,this.checkInInterval(),this.globalState=c,this.render()}return A(a,[{key:"onStateChange",value:function(a){this.globalState=a}},{key:"onRequestSuccess",value:function(){this.globalState.app.online||(this.rootActions.appOnline(),this.render())}},{key:"onRequestFailure",value:function(){this.globalState.app.online&&(this.rootActions.appOffline(),this.render())}},{key:"checkThroughPixel",value:function(){var a=this;$.ajaxPromise({url:"./favicon.icon"}).then(function(){a.onRequestSuccess()},function(){a.onRequestFailure()})}},{key:"checkInInterval",value:function(){var a=this;this.interval=setInterval(function(){a.checkThroughPixel()},3e3)}},{key:"resetInterval",value:function(){clearInterval(this.interval),this.checkInInterval()}},{key:"render",value:function(){var a=this;requestAnimationFrame(function(){document.body.style.filter="grayScale("+(a.globalState.app.online?0:1)+")"})}}]),a}(),function(){function a(b,c,d){z(this,a),this.success=this.success.bind(this),this.error=this.error.bind(this),this.ajaxStoreActions=b,this.rootActions=c}return A(a,[{key:"onStoreUpdate",value:function(a,b){}},{key:"success",value:function(a,b,c,d){this.remove({request:c,method:d})}},{key:"error",value:function(a,b,c,d){0==a.status,this.remove({request:a,method:d})}},{key:"add",value:function(a,b){var c=this;setTimeout(function(){c.ajaxStoreActions.addRequest({request:a,method:b})},0),a.then(function(a,d,e){c.success(a,d,e,b)},function(a,d,e){c.error(a,d,e,b)})}},{key:"remove",value:function(a){var b=this;setTimeout(function(){b.ajaxStoreActions.removeRequest(a)},0)}}]),a}()),Aa="undefined"==typeof Promise?require("es6-promise").Promise:Promise,Ba=window.interfaces,Ca=Ba.page,Da=Ba.Redux,Ea=Ba.batchActions,Fa=Da.bindActionCreators,Ga=null,Ha=void 0,Ia=void 0,Ja=void 0,Ka={},La=function(a){var b=a.match(c);return!(!b||!b.length)},Ma=function(a){var b=a.reAttemptOnReLogin,c=a.params,d=(a.dispatch,a.resolve),e=a.reject,f=a.path,g=a.resolveType;f=f.indexOf("/mnj/login")>=0?"/mnj/dashboard":f,Ca.redirect(f),b&&$.ajax(c).then(function(a,b,c){"obj"===g?d({data:a,textStatus:b,jqXHR:c}):d(a,b,c)},function(a,b,c){"obj"===g?e({jqXHR:a,textStatus:b,errorThrown:c}):e(a,b,c)})},Na=function(a,b,c,d){0==a.status||(500==a.status?d({type:x,payload:{message:"Oops! something went wrong",type:"error"}}):"timeout"==b&&d({type:x,payload:{message:"Please check your internet connection and refresh",type:"error"}})),d({type:n})},Oa=function(a){var b=a.data,c=(a.textStatus,a.jqXHR,a.url,a.dispatch),d=[];if(b){var e=b.seo||b.job&&b.job.seo;if(e){e.htmlTags}}c(Ea(d))},Pa=function(a){var b=$.ajax;$.ajax=function(c){var d=new Aa(function(d,e){c.method=c.method?c.method:"GET",b(c).then(function(a,b,f){if(a&&a.error){var g=C({},f,{status:a.error.status});e(g)}else d(a,b,f,c.method)},function(b,f,g){if(401==b.status&&La(c.url)){var h=window.location.pathname;c.customLoginTitle||"";Ja.loginCallbacksSet({success:function(){Ma({reAttemptOnReLogin:c.reAttemptOnReLogin,params:c,dispatch:a,resolve:d,reject:e,path:h,resolveType:""})}})}else 403==b.status||(201==b.status?d("",f,b,c.method):e(b,f,g,c.method))})});return d.then(function(b,d,e){Oa({data:b,textStatus:d,jqXHR:e,url:c.url,dispatch:a})},function(b,c,d){Na(b,c,d,a)}),d},$.ajaxPromise=function(c){var d=new Aa(function(d,e){b(c).then(function(a,b,c){if(a&&a.error){var f=C({},c,{status:a.error.status});e(f)}else d({data:a,textStatus:b,jqXHR:c})},function(b,f,g){if(401==b.status&&La(c.url)){var h=window.location.pathname;c.customLoginTitle||"";Ja.loginCallbacksSet({success:function(){Ma({reAttemptOnReLogin:c.reAttemptOnReLogin,params:c,dispatch:a,resolve:d,reject:e,path:h,resolveType:"obj"})}})}403==b.status||(201==b.status?d({data:"",textStatus:f,jqXHR:b}):e({jqXHR:b,textStatus:f,errorThrown:g}))})});return d.then(function(b){var d=b.data,e=b.textStatus,f=b.jqXHR;Oa({data:d,textStatus:e,jqXHR:f,url:c.url,dispatch:a})},function(b){var c=b.jqXHR,d=b.textStatus,e=b.errorThrown;Na(c,d,e,a)}),d}},Qa=function(){$.ajaxPrefilter(function(a,b,c){"DELETE"==a.method&&(a.method="POST",a.type="POST",a.headers=C({},a.headers,{"X-HTTP-Method-Override":"DELETE"})),a.url.match(/(\/saveFile.php|\/saveUrlFile.php|\/nLogger\/)/gi)||(a.headers=C({},a.headers,{clientId:"m0b5"})),a.abortOnRouteChange&&!a.crossDomain&&Ga.add(c,a.method||"GET")})},Ra=function(){$.ajaxSetup({abortOnRouteChange:!0,timeout:1e4,dataType:"json",reAttemptOnReLogin:!1,xhrFields:{withCredentials:!0}})},Sa=function(a){Pa(a.dispatch),Ra(),Qa(),Ia=Fa(C({},_),a.dispatch),Ha=Fa(ya,a.dispatch),Ga=new za(Ha,Ia,a.getState()),a.subscribe(function(){var b=a.getState();Ka=b.route,Ga.onStoreUpdate(b,Ia)})},Ta=function(a){return a.replace(/[&?]action=drawerOpen/g,"")},Ua=window.interfaces.Virtual,Va=function(a){return Ua.createElement("div",{className:"preloader-wrapper "+a.size+" active"},Ua.createElement("div",{className:"spinner-layer spinner-blue-only"},Ua.createElement("div",{className:"circle-clipper left"},Ua.createElement("div",{className:"circle"})),Ua.createElement("div",{className:"gap-patch"},Ua.createElement("div",{className:"circle"})),Ua.createElement("div",{className:"circle-clipper right"},Ua.createElement("div",{className:"circle"}))))};Va.propTypes={size:Ua.PropTypes.string},Va.defaultProps={size:""};var Wa=window.interfaces,Xa=Wa.Virtual,Ya=Wa.Redux,Za=Wa.Provider,$a=Wa.page,_a=Ya.bindActionCreators,ab=window.interfaces.routeUtil.LazilyLoadWithLoader,bb=window.interfaces.storeUtil.UpdateStoreAndStyles,cb=function(c){function d(){z(this,d);var b=E(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments));return b.state=void 0,b.store=null,a(b.state,function(a){b.store=a,b.store.subscribe(function(){b.setState(b.store.getState())}),window.globalActionCreators=b.boundedActionCreators=_a(_,b.store.dispatch),Sa(b.store),$a({popstate:!0,dispatch:!1});var c=Ta(""+document.location.pathname+document.location.search),d=document.location.search.indexOf("navicon=false")==-1,e=d;if(e){var f=(b.store.getState(),!1),g=f.isLoggedIn,h=["/"],i=document.location.pathname,j=h.indexOf(i)==-1,k=!1;k=!!j;var l="";l=g?h[1]:h[0],$a(l,function(a,b){k?(k=!1,setTimeout(function(){$a(c)},0)):b(a)}),ua(b.boundedActionCreators,b.store),k?$a.redirect(l):$a.redirect(c)}else ua(b.boundedActionCreators,b.store),$a.redirect(c)}),b}return D(d,c),A(d,[{key:"attachedCallback",value:function(){b()}},{key:"renderLazyFlow",value:function(a){var b=a.flow,c=a.styles;return Xa.createElement(bb,{reducer:b.reducer,styles:c},function(){if(b.FlowContainer){var a=b.FlowContainer;return Xa.createElement(a,null)}})}},{key:"renderRoute",value:function(a){var b=a.routeName,c=void 0;if(b&&"startPage"==b){var d=requirejs("flowName"),e=d.FlowContainer;c=Xa.createElement(e,null)}return c}},{key:"render",value:function(){if(this.store){var a=Xa.createElement(Va,{size:"small"});return Xa.createElement(Za,{store:this.store},Xa.createElement("div",{className:"root"},Xa.createElement("h5",null,"Route based view"),this.renderRoute(this.state.route),Xa.createElement("h5",null,"Lazy loaded view"),Xa.createElement(ab,{style:{width:"300px"},loader:a,modules:ha},this.renderLazyFlow),";"))}return null}}]),d}(Xa.PureComponent),db=window.interfaces,eb=db.Virtual,fb=db.VirtualDom;fb.render(eb.createElement(cb,null),document.getElementById("root"))}();