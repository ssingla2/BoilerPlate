define(["exports"],function(a){"use strict";var b={performance:"//lg.naukri.com/nLogger/boomLogger.php",feedback:"//lg.naukri.com/nLogger/feedback.php",launchOrInstall:"//lg.naukri.com/nLogger/webAppLogger.php"},c=window.interfaces.page,d={"rt.start":"navigation",nt_red:"0",nt_dns:"0",nt_tcp:"0",nt_req:"0",nt_res:"0",t_resp:"0",nt_plt:"0",nt_render:"0",t_page:"0",t_done:"0",r:"",r2:"",u:"",tag:"",appId:window.appId,t_resr:{t_domloaded:0},event:"routeChange"},e={act:null,appId:window.appId},f=!1,g=void 0,h={startTimer:function(a){a?window.RCCT||(window.RCST=(new Date).getTime()):window.RCCT=(new Date).getTime()},stopTimer:function(){if(window.RCCT||window.RCST){var a=(new Date).getTime()-(window.RCCT||window.RCST);return window.RCCT=null,window.RCST=null,a}return null},postData:function(a){var c=null;if(a.type||(a.type="performance"),"performance"!=a.type||a.pageLoad||(c=h.stopTimer())){var f={performance:{url:b.performance,dataObj:a.pageload?d:$.extend({},d,{t_done:c})},launchOrInstall:{url:b.launchOrInstall,dataObj:e}},g=$.extend({},f[a.type].dataObj,a.data),i=f[a.type].url+"?data="+JSON.stringify(g)+"&"+Math.random();$.ajax({xhrFields:{withCredentials:!1},method:"GET",url:i})}},sendBeacon:function(a){h.postData({t_done:h.stopTimer(),tag:a,event:"customTimer"})},attachOnForms:function(){var a=$(document).find("form");$.each(a,function(a,b){submitService.addCallback(a.name,{success:function(){h.startTimer()}})})},postDataOnWinLoad:function(a){if(f){clearInterval(g);var b=a.store.getState(),c=(b.route.routeName,document.referrer),d=document.location.href,e=(b.route.title,performance.timing),i=e.redirectEnd-e.redirectStart,j=e.domainLookupEnd-e.domainLookupStart,k=e.connectEnd-e.connectStart,l=e.responseStart-e.navigationStart-(e.requestStart-e.navigationStart),m=e.responseEnd-e.responseStart,n=e.responseStart-e.navigationStart,o=e.domInteractive-e.domLoading,p=e.domComplete-e.domLoading,q=e.loadEventEnd-e.navigationStart-(e.responseStart-e.navigationStart),r=e.loadEventEnd-e.navigationStart;document.referrer;h.postData({type:"performance",pageLoad:!0,data:{nt_red:i,nt_dns:j,nt_tcp:k,nt_req:l,nt_res:m,t_resp:n,nt_plt:o,nt_render:p,t_page:q,t_done:r,r:encodeURIComponent(c),u:encodeURIComponent(d),tag:a.tagName,event:"WindowLoad"}})}},init:function(a){f||(g=setInterval(function(){h.postDataOnWinLoad({tagName:"AppLoad",store:a})},10))}};window.onload=function(){setTimeout(function(){f=!0},200)},c.exit("*",function(a,b){a.path;h.startTimer(!0),b(a)});var i={landing:{pageName:"SplashScreen",title:"Naukri Web App"},recJobs:{pageName:"recommendedjobs",title:"Jobs For You"},similarJobsPage:{pageName:"apply"},searchForm:{pageName:"searchform"}},j=function(a){var b=a.routeName,c=a.title,d=a.previousName,e={pageName:b,title:c,previous:d};return i.hasOwnProperty(b)&&$.extend(e,i[b]),i.hasOwnProperty(d)&&$.extend(e,{previous:i[d].pageName}),e},k=function(){window.isChrome=navigator.userAgent.toLowerCase().indexOf("chrome")>-1||navigator.userAgent.toLowerCase().indexOf("CriOS")>-1,window.showATHS=!0},l=function(){var a=!1,b=0,c=function(c){1==c.touches.length&&(b=c.touches[0].clientY,a=0==window.pageYOffset)},d=function(c){var d=c.touches[0].clientY,e=d-b;if(b=d,a&&(a=!1,e>0))return void c.preventDefault()};document.addEventListener("touchstart",c,!1),document.addEventListener("touchmove",d,!1)},m=function(a){try{window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches?a.length&&a.match("lnch=1")&&(l(),h.postData({type:"launchOrInstall",data:{act:"L"}})):navigator.standalone?($("#root").addClass("fs"),h.postData({type:"launchOrInstall",data:{act:"L"}})):k()}catch(b){}};window.addEventListener("beforeinstallprompt",function(a){a.userChoice.then(function(a){"dismissed"==a.outcome||h.postData({type:"launchOrInstall",data:{act:"I"}})})});var n=function(a){var b=j(a);window.dataLayer&&dataLayer.push({event:"spa-pageview","spa-page-name":b.pageName,"spa-page-title":document.title,"spa-page-referrer":b.previous})},o=function(a,b,c,d){a=a||"spa-event",window.dataLayer&&dataLayer.push({event:a,"spa-event-category":b,"spa-event-label":c,"spa-event-action":d})},p=function(a){var b=document.location.host;h&&h.postData&&h.postData({data:{r:encodeURIComponent(b+a.previous),u:encodeURIComponent(b+a.current),tag:a.routeName}})},q=function(a){n(a),p(a)},r=function(){document.isTrackingEnabled||$(document).on("click","[data-ga-track]",function(){document.isTrackingEnabled=!0;var a=$(this).data("ga-track").split("|"),b=a[0],c=a[1],d=a[2]||"click";window.dataLayer&&dataLayer.push({event:"spa-event","spa-event-category":b,"spa-event-label":c,"spa-event-action":d})})};r(),a.trackPageViewByGA=n,a.trackCustomEventByGA=o,a.newMonk=h,a.trackNewMonk=p,a.trackNewMonkAndGA=q,a.logAppLaunch=m,Object.defineProperty(a,"__esModule",{value:!0})});